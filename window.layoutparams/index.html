<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>WindowManager.LayoutParams 参数详解 - midFang&#39;s Blog</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="midFang" />
  <meta name="description" content="WindowManager.LayoutParams 是 WindowManager 接口的嵌套类；继承于 ViewGroup.LayoutParams 。它的内容十分丰富。其实WindowManager.Java的主要内容就是由这个类定义构成。下面来分析一下这个类。
" />

  <meta name="keywords" content="Hugo, theme, jane" />






<meta name="generator" content="Hugo 0.58.3" />


<link rel="canonical" href="https://midFang.github.io/window.layoutparams/" />





<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.af20b78e95c84de86b00a0242a4a77bd2601700e1b250edf27537d957ac0041d.css" integrity="sha256-ryC3jpXITehrAKAkKkp3vSYBcA4bJQ7fJ1N9lXrABB0=" media="screen" crossorigin="anonymous">





<meta property="og:title" content="WindowManager.LayoutParams 参数详解" />
<meta property="og:description" content="WindowManager.LayoutParams 是 WindowManager 接口的嵌套类；继承于 ViewGroup.LayoutParams 。它的内容十分丰富。其实WindowManager.Java的主要内容就是由这个类定义构成。下面来分析一下这个类。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://midFang.github.io/window.layoutparams/" />
<meta property="article:published_time" content="2020-08-01T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-08-01T00:00:00+00:00" />
<meta itemprop="name" content="WindowManager.LayoutParams 参数详解">
<meta itemprop="description" content="WindowManager.LayoutParams 是 WindowManager 接口的嵌套类；继承于 ViewGroup.LayoutParams 。它的内容十分丰富。其实WindowManager.Java的主要内容就是由这个类定义构成。下面来分析一下这个类。">


<meta itemprop="datePublished" content="2020-08-01T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2020-08-01T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="3954">



<meta itemprop="keywords" content="Android," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="WindowManager.LayoutParams 参数详解"/>
<meta name="twitter:description" content="WindowManager.LayoutParams 是 WindowManager 接口的嵌套类；继承于 ViewGroup.LayoutParams 。它的内容十分丰富。其实WindowManager.Java的主要内容就是由这个类定义构成。下面来分析一下这个类。"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">midFang's Blog</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://midFang.github.io/">首页</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://midFang.github.io/post/">全部文章</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://midFang.github.io/tags/">标签</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://midFang.github.io/categories/">分类</a>
          
        
      </li>
    

    
      <li class="mobile-menu-item">
        <a id="openSearchMobile" class="mobile-menu-item-link menu-item-search" href="#">
          <i class="iconfont">
            <svg version="1.1" viewBox="0 0 1024 1024"
  xmlns="http://www.w3.org/2000/svg" width="18" height="18"
  xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M973.81454219 973.81454219a91.78207815 91.78207815 0 0 1-129.80999631 0l-161.97482118-161.97482118a425.48527711 425.48527711 0 0 1-230.35931791 68.16531768 428.3346319 428.3346319 0 1 1 428.3346319-428.3346319 425.48527711 425.48527711 0 0 1-68.16531768 230.35931791l162.02961656 161.97482118a91.83687354 91.83687354 0 0 1-0.05479538 129.80999631zM451.67040679 145.69361559a305.97679241 305.97679241 0 1 0 0 611.95358361 305.97679241 305.97679241 0 0 0 0-611.95358361z">
  </path>
</svg>

          </i>
        </a>
      </li>
    
  </ul>
</nav>


  

  
    
<div class="modal-dialog">
    
    <div class="modal-content">
      <div id="closeSearch" title="Close" class="close">X</div>
      <div class="modal-header">
        <div class="modal-title">Search</div>
      </div>
      <div class="modal-body">
          <script>
            (function() {
              var cx = '57787f7f4d21d54fc';
              var gcse = document.createElement('script');
              gcse.type = 'text/javascript';
              gcse.async = true;
              gcse.src = (document.location.protocol == 'https:' ? 'https:' :
                  'http:') +
                '//cse.google.com/cse.js?cx=' + cx;
              var s = document.getElementsByTagName('script')[0];
              s.parentNode.insertBefore(gcse, s);
            })();
          </script>
          <gcse:search></gcse:search>
      </div>
    </div>
</div>

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      midFang's Blog
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://midFang.github.io/">首页</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://midFang.github.io/post/">全部文章</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://midFang.github.io/tags/">标签</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://midFang.github.io/categories/">分类</a>
          

        

      </li>
    

    
    

    
      <li class="menu-item">
        <a id="openSearch" class="menu-item-link menu-item-search" href="#">
          <i class="iconfont">
            <svg version="1.1" viewBox="0 0 1024 1024"
  xmlns="http://www.w3.org/2000/svg" width="18" height="18"
  xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M973.81454219 973.81454219a91.78207815 91.78207815 0 0 1-129.80999631 0l-161.97482118-161.97482118a425.48527711 425.48527711 0 0 1-230.35931791 68.16531768 428.3346319 428.3346319 0 1 1 428.3346319-428.3346319 425.48527711 425.48527711 0 0 1-68.16531768 230.35931791l162.02961656 161.97482118a91.83687354 91.83687354 0 0 1-0.05479538 129.80999631zM451.67040679 145.69361559a305.97679241 305.97679241 0 1 0 0 611.95358361 305.97679241 305.97679241 0 0 0 0-611.95358361z">
  </path>
</svg>

          </i>
        </a>
      </li>
    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">WindowManager.LayoutParams 参数详解</h1>
      
      <div class="post-meta">
        <time datetime="2020-08-01" class="post-time">
          2020-08-01
        </time>
        <div class="post-category">
            <a href="https://midFang.github.io/categories/android/"> Android </a>
            
          </div>
        

        
        
          <span id="busuanzi_container_page_pv">
            | 阅读 <span id="busuanzi_value_page_pv"></span>
          </span>
        

        
        
          <span id="/window.layoutparams/" class="leancloud_visitors" data-flag-title="WindowManager.LayoutParams 参数详解">
            <span class="post-meta-item-text"> | 阅读 </span>
            <span class="leancloud-visitors-count"></span>
          </span>
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Table of Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#定义">定义</a></li>
<li><a href="#继承关系">继承关系</a></li>
<li><a href="#继承来的属性与常量">继承来的属性与常量</a></li>
<li><a href="#两个变量">两个变量</a></li>
<li><a href="#属性及可用的常量定义">属性及可用的常量定义</a></li>
<li><a href="#type-的类型">type 的类型</a>
<ul>
<li><a href="#常用方法">常用方法</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
  </div>
</div>

    
    <div class="post-content">
      <p>WindowManager.LayoutParams 是 WindowManager 接口的嵌套类；继承于 ViewGroup.LayoutParams 。它的内容十分丰富。其实WindowManager.<a href="http://lib.csdn.net/base/17">Java</a>的主要内容就是由这个类定义构成。下面来分析一下这个类。</p>

<h2 id="定义">定义</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span></pre></td>
<td class="lntd">
<pre class="chroma">public static class WindowManager.LayoutParams 		
	extends ViewGroup.LayoutParams implements Parcelable</pre></td></tr></table>
</div>
</div>
<h2 id="继承关系">继承关系</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></pre></td>
<td class="lntd">
<pre class="chroma">java.lang.Object
    ↳android.view.ViewGroup.LayoutParams
   		↳android.view.WindowManager.LayoutParams</pre></td></tr></table>
</div>
</div>
<h2 id="继承来的属性与常量">继承来的属性与常量</h2>

<ol>
<li><p>从 ViewManager.LayoutParams 继承来的属性：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></pre></td>
<td class="lntd">
<pre class="chroma">android:layout_height
Specifies the basic height of the view.
   
android:layout_width
Specifies the basic width of the view.</pre></td></tr></table>
</div>
</div></li>

<li><p>从 ViewManager.LayoutParams继承的常量：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></pre></td>
<td class="lntd">
<pre class="chroma">FILL_PARENT
WRAP_CONTENT
MATCH_PARENT </pre></td></tr></table>
</div>
</div></li>
</ol>

<h2 id="两个变量">两个变量</h2>

<ul>
<li>width</li>
<li>height</li>
</ul>

<h2 id="属性及可用的常量定义">属性及可用的常量定义</h2>

<ul>
<li><p>public int x;
如果忽略gravity属性，那 么它表示窗口的绝对X位置
什么是gravity属性呢？简单地说，就是窗口如何停靠
当设置了 Gravity.LEFT 或 Gravity.RIGHT 之后，x值就表示到特定边的距离</p></li>

<li><p>public int y;
如果忽略gravity属性，那么它表示窗口的绝对Y位置
当设置了 Gravity.TOP 或 Gravity.BOTTOM 之后，y值就表示到特定边的距离</p></li>

<li><p>public float horizontalWeight;
public float verticalWeight;
在纵/横向上，为关联的view预留了多少扩展空间（像素）。如果是0，那么此view不能被拉伸
其他情况下，扩展空间（像素）将被widget所均分。</p></li>

<li><p>public int type;
窗口类型。有3种主要类型：</p>

<ul>
<li>Applicationwindows：
取值在 FIRST_APPLICATION_WINDOW 和 LAST_APPLICATION_WINDOW 之间
是通常的、顶层的应用程序窗口。必须将 token 设置成 activity 的 token</li>
<li>Sub_windows：
取值在 FIRST_SUB_WINDOW 和 LAST_SUB_WINDOW 之间
与顶层窗口相关联，token 必须设置为它所附着的宿主窗口的 tken</li>
<li>Systemwindows：
取值在 FIRST_SYSTEM_WINDOW 和 LAST_SYSTEM_WINDOW 之间
用于特定的系统功能。它不能用于应用程序，使用时需要特殊权限

<br />

<br />
<br /></li>
</ul></li>
</ul>

<h2 id="type-的类型">type 的类型</h2>

<p>应用程序窗口<br />
 public static final int FIRST_APPLICATION_WINDOW = 1;</p>

<p>所有程序窗口的“基地”窗口，其他应用程序窗口都显示在它上面<br />
 public static final int TYPE_BASE_APPLICATION  =1;</p>

<p>普通应哟功能程序窗口。token必须设置为Activity的token，以指出该窗口属谁<br />
   public static final int TYPE_APPLICATION    = 2;</p>

<p>用于应用程序启动时所显示的窗口。应用本身不要使用这种类型<br />
   它用于让系统显示些信息，直到应用程序可以开启自己的窗口
 public static final int TYPE_APPLICATION_STARTING = 3;</p>

<p>应用程序窗口结束<br />
 public static final int LAST_APPLICATION_WINDOW = 99;</p>

<p>子窗口。子窗口的Z序和坐标空间都依赖于他们的宿主窗口<br />
 public static final int FIRST_SUB_WINDOW    = 1000;</p>

<p>面板窗口，显示于宿主窗口上层<br />
 public static final int TYPE_APPLICATION_PANEL = FIRST_SUB_WINDOW;</p>

<p>媒体窗口，例如视频。显示于宿主窗口下层<br />
 public static final int TYPE_APPLICATION_MEDIA = FIRST_SUB_WINDOW+1;</p>

<p>应用程序窗口的子面板。显示于所有面板窗口的上层（GUI的一般规律，越“子”越靠上）<br />
 public static final int TYPE_APPLICATION_SUB_PANEL = FIRST_SUB_WINDOW +2;</p>

<p>对话框。类似于面板窗口，绘制类似于顶层窗口，而不是宿主的子窗口<br />
 public static final int TYPE_APPLICATION_ATTACHED_DIALOG = FIRST_SUB_WINDOW +3;</p>

<p>媒体信息。显示在媒体层和程序窗口之间，需要实现透明（半透明）效果。（例如显示字幕）<br />
 public static final int TYPE_APPLICATION_MEDIA_OVERLAY = FIRST_SUB_WINDOW +4;</p>

<p>子窗口结束。（ End of types of sub-windows ）<br />
 public static final int LAST_SUB_WINDOW    = 1999;</p>

<p>系统窗口。非应用程序创建<br />
 public static final int FIRST_SYSTEM_WINDOW  = 2000;</p>

<p>状态栏。只能有一个状态栏；它位于屏幕顶端，其他窗口都位于它下方<br />
 public static final int TYPE_STATUS_BAR    = FIRST_SYSTEM_WINDOW;</p>

<p>搜索栏。只能有一个搜索栏；它位于屏幕上方<br />
 public static final int TYPE_SEARCH_BAR    = FIRST_SYSTEM_WINDOW+1;</p>

<p>电话窗口。它用于电话交互（特别是呼入）。它置于所有应用程序之上，状态栏之下<br />
 public static final int TYPE_PHONE      = FIRST_SYSTEM_WINDOW+2;</p>

<p>系统提示。它总是出现在应用程序窗口之上<br />
 public static final int TYPE_SYSTEM_ALERT   = FIRST_SYSTEM_WINDOW +3;</p>

<p>在软件盘交互中，软件盘弹出模式无效最好使用error模式 ，锁屏窗口<br />
 public static final int TYPE_KEYGUARD     = FIRST_SYSTEM_WINDOW +4;</p>

<p>信息窗口。用于显示toast<br />
 public static final int TYPE_TOAST      = FIRST_SYSTEM_WINDOW +5;</p>

<p>系统顶层窗口。显示在其他一切内容之上。此窗口不能获得输入焦点，否则影响锁屏<br />
 public static final int TYPE_SYSTEM_OVERLAY  = FIRST_SYSTEM_WINDOW +6;</p>

<p>电话优先，当锁屏时显示。此窗口不能获得输入焦点，否则影响锁屏<br />
 public static final int TYPE_PRIORITY_PHONE  = FIRST_SYSTEM_WINDOW +7;</p>

<p>系统对话框。（例如音量调节框）<br />
 public static final int TYPE_SYSTEM_DIALOG   = FIRST_SYSTEM_WINDOW +8;</p>

<p>锁屏时显示的对话框<br />
 public static final int TYPE_KEYGUARD_DIALOG  = FIRST_SYSTEM_WINDOW +9;</p>

<p>系统内部错误提示，显示于所有内容之上<br />
 public static final int TYPE_SYSTEM_ERROR   = FIRST_SYSTEM_WINDOW +10;</p>

<p>需要软件盘交互最好使用此选项， 软件盘弹出会压缩布局高度， FLAG_LAYOUT_NO_LIMITS</p>

<p>内部输入法窗口，显示于普通UI之上。应用程序可重新布局以免被此窗口覆盖。<br />
   public static final int TYPE_INPUT_METHOD   = FIRST_SYSTEM_WINDOW +11;</p>

<p>内部输入法对话框，显示于当前输入法窗口之上<br />
   public static final int TYPE_INPUT_METHOD_DIALOG= FIRST_SYSTEM_WINDOW +12;</p>

<p>墙纸窗口<br />
   public static final int TYPE_WALLPAPER     = FIRST_SYSTEM_WINDOW +13;</p>

<p>状态栏的滑动面板<br />
   public static final int TYPE_STATUS_BAR_PANEL  = FIRST_SYSTEM_WINDOW +14;</p>

<p>系统窗口结束<br />
   public static final int LAST_SYSTEM_WINDOW   = 2999;</p>

<p>public int memoryType;
  指出窗口所使用的内存缓冲类型。默认为 NORMAL ，下面定义了 memoryType 的取值：窗口缓冲位于主内存<br />
   public static final int MEMORY_TYPE_NORMAL = 0;</p>

<p>窗口缓冲位于可以被DMA访问，或者硬件加速的内存区域<br />
   public static final int MEMORY_TYPE_HARDWARE = 1;</p>

<p>窗口缓冲位于可被图形加速器访问的区域<br />
   public static final int MEMORY_TYPE_GPU = 2;</p>

<p>窗口缓冲不拥有自己的缓冲区，不能被锁定。缓冲区由本地方法提供<br />
   public static final int MEMORY_TYPE_PUSH_BUFFERS = 3;</p>

<p>窗口之后的内容变暗<br />
   public static final int FLAG_DIM_BEHIND    = 0x00000002;</p>

<p>窗口之后的内容变模糊<br />
   public static final int FLAG_BLUR_BEHIND    = 0x00000004;</p>

<p>不许获得焦点<br />
   public static final int FLAG_NOT_FOCUSABLE   = 0x00000008;</p>

<p>不接受触摸屏事件<br />
   public static final int FLAG_NOT_TOUCHABLE   = 0x00000010;</p>

<p>当窗口可以获得焦点（没有设置 FLAG_NOT_FOCUSALBE 选项）时，仍然将窗口范围之外的点设备事件（鼠标、触摸屏）发送给后面的窗口处理。否则它将独占所有的点设备事件，而不管它们是不是发生在窗口范围内<br />
   public static final int FLAG_NOT_TOUCH_MODAL  = 0x00000020;</p>

<p>如果设置了这个标志，当设备休眠时，点击触摸屏，设备将收到这个第一触摸事件<br />
   通常第一触摸事件被系统所消耗，用户不会看到他们点击屏幕有什么反应。
   public static final int FLAG_TOUCHABLE_WHEN_WAKING = 0x00000040;</p>

<p>当此窗口为用户可见时，保持设备常开，并保持亮度不变<br />
   public static final int FLAG_KEEP_SCREEN_ON  = 0x00000080;</p>

<p>窗口占满整个屏幕，忽略周围的装饰边框（例如状态栏）。此窗口需考虑到装饰边框的内容<br />
   public static final int FLAG_LAYOUT_IN_SCREEN  =0x00000100;     window坐标系原点包括系统状态栏</p>

<p>允许窗口扩展到屏幕之外<br />
   public static final int FLAG_LAYOUT_NO_LIMITS  =0x00000200;     window坐标系原点不包括系统状态栏</p>

<p>窗口显示时，隐藏所有的屏幕装饰（例如状态条）。使窗口占用整个显示区域<br />
   public static final int FLAG_FULLSCREEN   = 0x00000400;</p>

<p>此选项将覆盖FLAG_FULLSCREEN选项，并强制屏幕装饰（如状态条）弹出<br />
   public static final int FLAG_FORCE_NOT_FULLSCREEN  =0x00000800;</p>

<p>抖动。指 对半透明的显示方法。又称“点透”。图形处理较差的设备往往用“点透”替代Alpha混合<br />
   public static final int FLAG_DITHER      = 0x00001000;</p>

<p>不允许屏幕截图<br />
   public static final int FLAG_SECURE      = 0x00002000;</p>

<p>一种特殊模式，布局参数用于指示显示比例<br />
   public static final int FLAG_SCALED      = 0x00004000;</p>

<p>当屏幕有可能贴着脸时，这一选项可防止面颊对屏幕造成误操作<br />
   public static final int FLAG_IGNORE_CHEEK_PRESSES  = 0x00008000;</p>

<p>当请求布局时，你的窗口可能出现在状态栏的上面或下面，从而造成遮挡。当设置这一选项后，窗口管理器将确保窗口内容不会被装饰条（状态栏）盖住<br />
   public static final int FLAG_LAYOUT_INSET_DECOR = 0x00010000;</p>

<p>反转FLAG_NOT_FOCUSABLE选项<br />
   如果同时设置了FLAG_NOT_FOCUSABLE选项和本选项，窗口将能够与输入法交互，允许输入法窗口覆盖；
   如果FLAG_NOT_FOCUSABLE没有设置而设置了本选项，窗口不能与输入法交互，可以覆盖输入法窗口<br />
   public static final int FLAG_ALT_FOCUSABLE_IM = 0x00020000;</p>

<p>如果你设置了FLAG_NOT_TOUCH_MODAL，那么当触屏事件发生在窗口之外事，可以通过设置此标志接收到一个 MotionEvent.ACTION_OUTSIDE事件。注意，你不会收到完整的down/move/up事件，只有第一次down事件时可以收到 ACTION_OUTSIDE<br />
   public static final int FLAG_WATCH_OUTSIDE_TOUCH = 0x00040000;</p>

<p>当屏幕锁定时，窗口可以被看到。这使得应用程序窗口优先于锁屏界面。可配合FLAG_KEEP_SCREEN_ON选项点亮屏幕并直接显示在锁屏界面之前。可使用FLAG_DISMISS_KEYGUARD选项直接解除非加锁的锁屏状态。此选项只用于最顶层的全屏幕窗口<br />
   public static final int FLAG_SHOW_WHEN_LOCKED = 0x00080000;</p>

<p>请求系统墙纸显示在你的窗口后面。窗口必须是半透明的<br />
   public static final int FLAG_SHOW_WALLPAPER = 0x00100000;</p>

<p>窗口一旦显示出来，系统将点亮屏幕，正如用户唤醒设备那样<br />
   public static final int FLAG_TURN_SCREEN_ON = 0x00200000;</p>

<p>解除锁屏。只有锁屏界面不是加密的才能解锁。如果锁屏界面是加密的，那么用户解锁之后才能看到此窗口，除非设置了FLAG_SHOW_WHEN_LOCKED选项<br />
   public static final int FLAG_DISMISS_KEYGUARD = 0x00400000;</p>

<p>锁屏界面淡出时，继续运行它的动画<br />
   public static final int FLAG_KEEP_SURFACE_WHILE_ANIMATING =0x10000000;</p>

<p>以原始尺寸显示窗口。用于在兼容模式下运行程序<br />
   public static final int FLAG_COMPATIBLE_WINDOW = 0x20000000;</p>

<p>用于系统对话框。设置此选项的窗口将无条件获得焦点<br />
   public static final int FLAG_SYSTEM_ERROR = 0x40000000;</p>

<p>public int softInputMode;
  软输入法模式选项：</p>

<p>以下选项与 softInputMode 有关：
   软输入区域是否可见<br />
   public static final int SOFT_INPUT_MASK_STATE = 0x0f;</p>

<p>未指定状态<br />
   public static final int SOFT_INPUT_STATE_UNSPECIFIED = 0;</p>

<p>不要修改软输入法区域的状态<br />
   public static final int SOFT_INPUT_STATE_UNCHANGED = 1;</p>

<p>隐藏输入法区域（当用户进入窗口时）<br />
   public static final int SOFT_INPUT_STATE_HIDDEN = 2;</p>

<p>当窗口获得焦点时，隐藏输入法区域<br />
   public static final int SOFT_INPUT_STATE_ALWAYS_HIDDEN = 3;</p>

<p>显示输入法区域（当用户进入窗口时）<br />
   public static final int SOFT_INPUT_STATE_VISIBLE = 4;</p>

<p>当窗口获得焦点时，显示输入法区域<br />
   public static final int SOFT_INPUT_STATE_ALWAYS_VISIBLE = 5;</p>

<p>窗口应当主动调整，以适应软输入窗口<br />
   public static final int SOFT_INPUT_MASK_ADJUST = 0xf0;</p>

<p>未指定状态，系统将根据窗口内容尝试选择一个输入法样式<br />
   public static final int SOFT_INPUT_ADJUST_UNSPECIFIED = 0x00;</p>

<p>当输入法显示时，允许窗口重新计算尺寸，使内容不被输入法所覆盖
   不可与SOFT_INPUT_ADJUSP_PAN混合使用,如果两个都没有设置，系统将根据窗口内容自动设置一个选项。<br />
   public static final int SOFT_INPUT_ADJUST_RESIZE = 0x10;</p>

<p>输入法显示时平移窗口。它不需要处理尺寸变化，框架能够移动窗口以确保输入焦点可见
   不可与SOFT_INPUT_ADJUST_RESIZE混合使用;如果两个都没设置,系统将根据窗口内容自动设置一个选项。<br />
   public static final int SOFT_INPUT_ADJUST_PAN = 0x20;</p>

<p>当用户转至此窗口时，由系统自动设置，所以你不要设置它
   当窗口显示之后该标志自动清除。<br />
   public static final int SOFT_INPUT_IS_FORWARD_NAVIGATION = 0x100;</p>

<p>期望的位图格式。默认为不透明。参考android.graphics.PixelFormat</p>

<p>public int format;</p>

<p>窗口所使用的动画设置。它必须是一个系统资源而不是应用程序资源，因为窗口管理器不能访问应用程序。</p>

<p>public int windowAnimations;</p>

<p>整个窗口的半透明值，1.0表示不透明，0.0表示全透明。</p>

<p>public float alpha = 1.0f;</p>

<p>当FLAG_DIM_BEHIND设置后生效。该变量指示后面的窗口变暗的程度。1.0表示完全不透明，0.0表示没有变暗。</p>

<p>public float dimAmount = 1.0f;</p>

<p>用来覆盖用户设置的屏幕亮度。表示应用用户设置的屏幕亮度。从0到1调整亮度从暗到最亮发生变化。</p>

<p>public float screenBrightness = -1.0f;</p>

<p>窗口的标示符。( Identifier for this window. This will usually be filled in for you. )</p>

<p>public IBinder token = null;</p>

<p>此窗口所在的包名。</p>

<p>public String packageName = null;</p>

<p>屏幕方向，参见android.content.pm.ActivityInfo#screenOrientation。</p>

<p>public int screenOrientation =ActivityInfo.SCREEN_ORIENTATION_UNSPECIFIED;</p>

<p>在兼容模式下，备份/恢复参数所使用的内部缓冲区。<br />
  public int[] mCompatibilityParamsBackup = null;</p>

<h3 id="常用方法">常用方法</h3>

<p>public final int copyFrom (WindowManager.LayoutParams o);<br />
 下面定义了各种“CHANGE”信息，为copyFrom函数所使用。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></pre></td>
<td class="lntd">
<pre class="chroma">  public staticfinal int LAYOUT_CHANGED =1&lt;&lt;0;
  public staticfinal int TYPE_CHANGED =1&lt;&lt;1;
  public staticfinal int FLAGS_CHANGED =1&lt;&lt;2;
  public staticfinal int FORMAT_CHANGED =1&lt;&lt;3;
  public staticfinal int ANIMATION_CHANGED =1&lt;&lt;4;
  public staticfinal int DIM_AMOUNT_CHANGED =1&lt;&lt;5;
  public staticfinal int TITLE_CHANGED =1&lt;&lt;6;
  public staticfinal int ALPHA_CHANGED =1&lt;&lt;7;
  public staticfinal int MEMORY_TYPE_CHANGED =1&lt;&lt;8;
  public staticfinal int SOFT_INPUT_MODE_CHANGED =1&lt;&lt;9;
  public staticfinal int SCREEN_ORIENTATION_CHANGED =1&lt;&lt;10;
  public staticfinal int SCREEN_BRIGHTNESS_CHANGED =1&lt;&lt;11;</pre></td></tr></table>
</div>
</div>
<p>转载： <a href="https://www.cnblogs.com/ldq2016/p/6844362.html">https://www.cnblogs.com/ldq2016/p/6844362.html</a></p>
    </div>

    
    
<div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">Author</span>
    <span class="item-content">midFang</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">LastMod</span>
    <span class="item-content">
      2020-08-01
      
    </span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">License</span>
    <span class="item-content"><a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a></span>
  </p>
</div>


    
    

    <footer class="post-footer">
      <div class="post-tags">
          <a href="https://midFang.github.io/tags/android/">Android</a>
          
        </div>

      
      <nav class="post-nav">
        
          <a class="prev" href="/android-process-base-use/">
            
            <i class="iconfont">
              <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

            </i>
            <span class="prev-text nav-default">Android 中的进程间通信简单使用</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        
          <a class="next" href="/git-gitignore-file-use/">
            <span class="next-text nav-default">Git 管理 .gitignore file 文件的使用</span>
            <span class="prev-text nav-mobile">Next</span>
            
            <i class="iconfont">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

            </i>
          </a>
      </nav>
    </footer>
  </article>

  
  

  
  

  

  
  
    <div class="post bg-white">
      <script src="https://utteranc.es/client.js"
            repo= "midFang/blog-comments"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>
      </script>
    </div>
  

  

  

  

    

  

        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  
  
    <a href="https://github.com/midFang" rel="me noopener" class="iconfont"
      title="github"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M512 12.672c-282.88 0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667 0-12.16-0.426667-44.373333-0.64-87.04-142.421333 30.890667-172.458667-68.693333-172.458667-68.693333C188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333 0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333 0 0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52 0.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667 0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72 0 68.522667-0.64 123.562667-0.64 140.202666 0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"></path>
</svg>

    </a>
  
    <a href="https://stackoverflow.com/users/14331888/midfang" rel="me noopener" class="iconfont"
      title="stack-overflow"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M809.714286 932.571429l-638.857143 0 0-274.285714-91.428571 0 0 365.714286 821.714286 0 0-365.714286-91.428571 0 0 274.285714zm-538.285714-299.428571l18.857143-89.714286 447.428571 94.285714-18.857143 89.142857zm58.857143-213.714286l38.285714-83.428571 414.285714 193.714286-38.285714 82.857143zm114.857143-203.428571l58.285714-70.285714 350.857143 293.142857-58.285714 70.285714zm226.857143-216l272.571429 366.285714-73.142857 54.857143-272.571429-366.285714zm-410.285714 840.571429l0-90.857143 457.142857 0 0 90.857143-457.142857 0z"></path>
</svg>

    </a>
  
    <a href="https://www.douban.com/people/194654920/" rel="me noopener" class="iconfont"
      title="douban"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M926.917973 37.80608C959.65184 37.80608 986.19392 64.34816 986.19392 97.082027L986.19392 926.917973C986.19392 959.65184 959.65184 986.19392 926.917973 986.19392L97.082027 986.19392C64.34816 986.19392 37.80608 959.65184 37.80608 926.917973L37.80608 97.082027C37.80608 64.34816 64.34816 37.80608 97.082027 37.80608zM176.653653 176.19968 176.653653 252.678827 825.658027 252.678827 825.658027 176.19968zM217.719467 316.146347 217.719467 628.08064 273.524053 628.08064 341.292373 770.39616 157.259093 770.39616 157.259093 845.417813 842.949973 845.417813 842.949973 770.39616 654.226773 770.39616 722.899627 628.08064 783.67744 628.08064 783.67744 316.146347zM684.885333 392.891733 684.885333 553.987413 312.576 553.987413 312.576 392.891733zM570.770773 770.39616 426.653013 770.39616 359.621973 628.08064 639.443627 628.08064z"></path>
</svg>

    </a>


<a href="https://midFang.github.io/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
   
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    
      2020 -
    2024
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        midFang
        
      </span></span>

  
  
    <span id="busuanzi_container">
      访客数/访问量：<span id="busuanzi_value_site_uv"></span>/<span id="busuanzi_value_site_pv"></span>
    </span>
  

  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js" integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin="anonymous"></script>















  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script type="text/javascript">
    AV.initialize( null ,  null );
  </script>

  <script>
    function showHitCount(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push($(this).attr("id").trim());
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var hits = item.get('hits');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(hits);
          }
          for (var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if (countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function (results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("hits");
            counter.save(null, {
              success: function (counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('hits'));
              },
              error: function (counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
             
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
             
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("hits", 1);
            newcounter.save(null, {
              success: function (newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('hits'));
              },
              error: function (newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function (error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function () {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        
        addCount(Counter);
      } else if ($('.post-link').length > 1) {
        
        showHitCount(Counter);
      }
    });
  </script>





  <script>
    $("#openSearch, #openSearchMobile").click(function(){
      $(".modal-dialog").addClass("visible");
    });

    $("#closeSearch").click(function(){
      $(".modal-dialog").removeClass("visible");
    });

    $(document).click(function(event) {
    
      if (!$(event.target).closest(".modal-content, #openSearch, #openSearchMobile").length) {
        $("body").find(".modal-dialog").removeClass("visible");
      }
    });
  </script>





</body>
</html>
